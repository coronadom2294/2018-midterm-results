
<div class="strib-styles ssa ssb ssc">
  <section class="container-lg results-header">
    <h1>2018 Minnesota general election results</h1>

    <div class="share-placeholder">
    <!-- share -->
    </div>

    <!-- navigation -->
    <div class="navigation-marker"></div>
    <div class="navigation-placeholder"></div>
    <div class="cf" id="navigation">
      <nav>
        <div id="updater">
          <div class="counter-dt">Next update: <span id="time"></span> seconds</div>
          <div class="counter-mob">
            <p class="caps">Update:</p>
            <p><span></span> s</p>
          </div>
        </div>

        <ul>
          <a id="navtop" href="#topraces"><li>Top<span class="navdt"> Races</span></li></a>
          <a id="navstate" href="#state"><li>Minn<span class="navdt">esota</span></li></a>
          <a id="navleg" href="#legislature"><li>Legis<span class="navdt">lature</span></li></a>
          <a id="navlocal" href="#local"><li>Local</li></a>
        </ul>
      </nav>
    </div>
  </section>
</div>

<script>
  // Svelte logic
  export default {

    oncreate: function() {
      let seconds = 10;
      let display = document.querySelector('#time');
      this.start_timer(seconds, display);
    },

    methods: {

      start_timer: function(duration, display) {
        var timer = duration, minutes, seconds;
        setInterval(function () {
          seconds = parseInt(timer % 60, 10);

          seconds = seconds < 10 ? "0" + seconds : seconds;

          display.textContent = seconds;

          if (--timer < 0) {
            timer = duration;
          }
        }, 1000);
      }

    }
  };
</script>
